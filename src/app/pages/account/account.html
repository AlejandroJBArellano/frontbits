<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Account</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="email" class="ion-padding-top ion-text-center">
    <ion-avatar  alt="avatar" style="margin: auto;">
      <ion-img [src]="image.src" alt=""></ion-img>
    </ion-avatar>
    <h2>{{this.user?.name}}</h2>

    <ion-list inset>
      <ion-item id="open-modal">Update Picture</ion-item>
      <ion-item (click)="changeUsername()">Change Username</ion-item>
      <ion-item (click)="changePassword()">Change Password</ion-item>
      <ion-item (click)="support()">Support</ion-item>
      <ion-item (click)="logout()">Logout</ion-item>
      <ion-modal trigger="open-modal" id="modalPicture" #modalPicture>
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-title>Change profile picture</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="modalPicture.dismiss()">
                  Close
                </ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content>
            <div>
              <ion-img [src]="image.src"></ion-img>
            </div>
            <ion-button color="secondary" (click)="takePicture()" expand="block" fill="solid">
              Attach new profile picture
            </ion-button>
            <ion-button color="danger" (click)="upload()" expand="block" fill="outline">
              Save changes
            </ion-button>

          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-list>
  </div>
</ion-content>
